<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprKinaHeart</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-15</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>rayA = 0;
waveA = 0;
waveS = 0;
upA = 0;
upAmt = 0;
imgA = 90;
drawScale = 1;
scale = 0.01;

for(var i = 0; i &lt; 40; i += 1){
    var p = instance_create(x+random_range(-4,4),y+random_range(-4,4),oKHCutSparkle);
    p.direction = 360*i/40;
    p.speed = p.scale;
    p.image_blend = make_color_hsv(p.direction*255/360,30,255);
}
for(var i = 0; i &lt; 16; i += 1){
    var p = instance_create(x,y,oKHSquishPart);
    p.direction = 360*i/16; p.image_angle = p.direction;
    p.speed = random_range(6,10);
    p.spdStart = p.speed;
}

active = 0;
image_speed = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>waveA = (waveA + 3) mod 360;
waveS = sin(degtorad(waveA));

scale += (1-scale) * .1;
if scale &gt; .99{scale = 1;}

if active{
    image_alpha *= .9;
    if image_alpha &lt; .005{
        //Make cutscene object
        box = instance_create(x,y,oItemGet);
        box.itemID = 4;
        with box{event_user(0);}
        instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objPlayer">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if active == 0{
    active = 1;
    image_index = 1;
    global.kinaHeart = 1;
    global.inCutscene = 1;
    with objPlayer{
        frozen = 1;
    }
    for(var i = 0; i &lt; 25; i += 1){
        var p = instance_create(x+random_range(-4,4),y+random_range(-4,4),oKHCutSparkle);
        p.direction = 360*i/25;
        p.speed = p.scale;
        p.image_blend = make_color_hsv(p.direction*255/360,30,255);
    }
    for(var i = 0; i &lt; 16; i += 1){
        var p = instance_create(x,y,oKHSquishPart);
        p.direction = 360*i/16; p.image_angle = p.direction;
        p.speed = random_range(6,10);
        p.spdStart = p.speed;
    }
    scrPlaySoundExt(sndDeltaShine,1,1,false);
    scrPlaySoundExt(sndHeartPickup,1,1,false);
    scrSaveGame(false);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Rays + Lens
rayA = (rayA + 2) mod 360;
draw_set_color(c_white);
r = 20;
draw_set_blend_mode(bm_add);
for(i=0;i&lt;5;i+=1){
    a1 = rayA + 360/5*i;
    a2 = a1 + 360/10;
    x1 = r*sin(degtorad(a1)); y1 = r*cos(degtorad(a1));
    x2 = r*sin(degtorad(a2)); y2 = r*cos(degtorad(a2));
    draw_triangle_color(x,y,x+x1,y+y1,x+x2,y+y2,merge_color(c_black,c_white,image_alpha),c_black,c_black,0);
}
draw_set_blend_mode(bm_normal);
draw_sprite_ext(sprite_index,image_index,x,y+3*waveS+upAmt,drawScale*scale,scale,0,c_white,image_alpha);
draw_sprite_ext(sprite_index,1,x,y+3*waveS+upAmt,drawScale*scale,scale,0,c_white,image_alpha*(1-scale));
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
