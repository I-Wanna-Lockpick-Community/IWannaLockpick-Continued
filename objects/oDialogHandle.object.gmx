<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-999</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (instance_number(oDialogHandle) &gt;= 2)
{
    instance_destroy()
    exit
}
diaID = -1
diaText[0] = ""
diaSpeak[0] = -1
diaPortrait[0] = 0
diaVoice[0] = -1
evCount = 0
evLine[0] = -1
evPos[0] = -1
evType[0] = -1
evArg[0] = 0
evArg2[0] = 0
diaState = 0
endAction = 0
nextConvo = -1
diaPos = 0
numLines = 1
readString = ""
charMax = 0
boxY = 0
boxX = 0
boxCol = 4210752
boxShake = 0
speakerID = -1
speakerName = "???"
speakerSpr = -1
speakerIndex = 0
textCol = 16777215
shaCol = 12632256
hasShadow = 1
voiceID = -1
numSamples = 1
vSample[0] = 11
numPitches = 1
vPitch[0] = 1
vVariance = 0.02
doScroll = 0
curString = ""
curChar = 0
scrollWait = 2
scrollCount = 0
soundWait = 2
soundCount = 0
nextLineTimer = 0
skipA = 0
skipAlpha = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch diaState
{
    case 0:
        boxY = min(((boxY + 2) + ((0 - boxY) * 0.05)), 0)
        break
    case 1:
        boxY = max(((boxY - 2) + ((-96 - boxY) * 0.05)), -96)
        if (boxY == -96)
        {
            diaState = 2
            diaPos = 0
            scrStartLine(diaPos)
        }
        break
    case 2:
        if doScroll
        {
            scrollCount = ((scrollCount + 1) % scrollWait)
            if (scrollCount == 0)
            {
                curChar = min((curChar + 1), charMax)
                scrDiaEvents(0)
                char = string_copy(readString, curChar, 1)
                soundCount = ((soundCount + 1) % soundWait)
                if (soundCount == 0)
                {
                    if ((char != " ") &amp;&amp; ((char != "#") &amp;&amp; (char != "'")))
                        scrPlayTalkSound()
                }
                if (curChar == charMax)
                {
                    if (doScroll == 1)
                    {
                        doScroll = 0
                        nextLineTimer = 40
                    }
                }
            }
        }
        nextLineTimer = max((nextLineTimer - 1), 0)
        if ((scrButtonCheckPressed(global.selButton) || (scrButtonCheckPressed(global.jumpButton) || scrButtonCheckPressed(global.shootButton))) &amp;&amp; (nextLineTimer == 0))
        {
            if doScroll
            {
                doScroll = 0
                scrPlayTalkSound()
                curChar = charMax
            }
            else
            {
                diaPos += 1
                scrDiaEvents(1)
                if (diaPos &gt;= numLines)
                {
                    event_user(0)
                    scrPlaySoundExt(sndCamera, 0.8, 1.5, false)
                }
                else
                {
                    doScroll = 1
                    scrStartLine(diaPos)
                    scrPlaySoundExt(sndTypewriter, 0.7, 1.2, false)
                }
            }
        }
        curString = string_copy(readString, 1, curChar)
        if (((endAction == 0) || ((endAction == 2) || (endAction == 7))) &amp;&amp; (diaState == 2))
        {
            if (scrButtonCheckPressed(global.skipButton) &amp;&amp; (diaState == 2))
            {
                scrPlaySoundExt(sndSelectMade, 0.75, 1, false)
                event_user(0)
            }
            skipA = ((skipA + 2) % 360)
            skipAlpha = (0.5 - (0.5 * cos(degtorad(skipA))))
        }
        if (diaState != 2)
        {
            skipA = 0
            skipAlpha = 0
        }
        break
    case 3:
        break
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i;
switch endAction
{
    case 0:
        diaState = 0
        global.inCutscene = 0
        with (objPlayer)
            alarm[0] = 15
        break
    case 1:
        diaState = 3
        break
    case 2:
        diaState = 0
        with (oKina)
        {
            state = 2
            t = 0
            scrPlaySoundExt(sndQuery, 1, 1, false)
        }
        with (oKinaDiary)
        {
            state = 2
            t = 0
            scrPlaySoundExt(sndQuery, 1, 1, false)
        }
        with (oWats)
        {
            state = 2
            t = 0
            scrPlaySoundExt(sndQuery, 1, 1, false)
            numConvoVis = 0
            for (i = 0; i &lt; numConvos; i += 1)
            {
                convoVis[i] = 1
                if ((i &gt; 0) &amp;&amp; (!global.convoRead[(82 + i)]))
                    convoVis[i] = 0
                convoMenu[i] = -1
                if convoVis[i]
                {
                    convoRef[numConvoVis] = i
                    numConvoVis += 1
                }
                convoRead[i] = 1
            }
            setCenterConvoString()
        }
        break
    case 3:
        diaState = 0
        global.inCutscene = 0
        with (objPlayer)
            alarm[0] = 15
        with (oKina)
        {
            state = 0
            t = 0
        }
        break
    case 4:
        diaState = 0
        instance_create(0, 0, oOptionHandle)
        break
    case 5:
        diaState = 0
        with (oIntroHandle)
            state = 2
        break
    case 6:
        diaState = 0
        global.inCutscene = 0
        with (oIntroHandle2)
            state = 2
        break
    case 7:
        diaState = 0
        with (oClearHandle)
            alarm[1] = 50
        break
    case 8:
        diaState = 0
        with (oEndHandle)
            state = 1
        audio_sound_gain(global.currentMusic, 0, 2000)
        break
    default:
        diaState = 0
        global.inCutscene = 0
        with (objPlayer)
            alarm[0] = 15
        break
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="73">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var dx, dy, bx, by, runTop, runBot;
if (boxY &gt; -0.5)
    exit
dx = view_xview[0]
dy = (view_yview[0] + 608)
boxX -= 1
if (boxX &lt;= -56)
    boxX += 56
draw_set_alpha(1)
for (i = 0; i &lt;= 15; i += 1)
{
    bx = (((56 * i) + dx) + boxX)
    by = ((dy + boxY) + random_range((-boxShake), boxShake))
    draw_set_color(boxCol)
    draw_rectangle(bx, by, (bx + 55), dy, 0)
    draw_set_color(c_white)
    draw_sprite_ext(sprTalkBox, 0, bx, by, 1, 1, 0, textCol, 1)
}
draw_sprite(sprTalkBox, 1, dx, (dy + boxY))
if (speakerSpr != -1)
    draw_sprite(speakerSpr, speakerIndex, (dx + 8), ((dy + boxY) + 20))
draw_set_halign(fa_center)
draw_set_valign(fa_top)
draw_set_font(fTalkSmall)
if hasShadow
{
    draw_set_color(shaCol)
    draw_set_alpha(0.5)
    draw_text(((dx + 28) + 1), (((dy + boxY) + 72) + 1), speakerName)
}
draw_set_alpha(1)
draw_set_color(textCol)
draw_text((dx + 28), ((dy + boxY) + 72), speakerName)
draw_set_font(fTalk)
draw_set_halign(fa_left)
if hasShadow
{
    draw_set_color(shaCol)
    draw_set_alpha(0.5)
    draw_text_ext(((dx + 64) + 1), (((dy + boxY) + 12) + 1), curString, 16, 700)
}
draw_set_alpha(1)
draw_set_color(textCol)
draw_text_ext((dx + 64), ((dy + boxY) + 12), curString, 16, 700)
draw_set_color(c_white)
if (((endAction == 0) || ((endAction == 2) || (endAction == 7))) &amp;&amp; (diaState == 2))
{
    draw_set_alpha(skipAlpha)
    draw_set_font(fMiniID)
    draw_set_halign(fa_right)
    draw_set_valign(fa_top)
    runTop = make_color_rgb(230, 255, 255)
    runBot = make_color_rgb(170, 200, 255)
    drawTextGradient((dx + 795), (dy - 128), (("- Press [" + getBindStr(global.skipButton, global.usingController)) + "] to skip -"), runTop, runBot, 1)
    draw_set_alpha(1)
    draw_set_color(c_white)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
